#!/bin/bash -i
shopt -s expand_aliases
#--edit: edit argument(s) in `vi`. If passed a command, will run that command and pipe to `vi`.  Otherwise, pass as arguments to `vi`.
editor=${VISUAL:-${EDITOR:-vi}}
if [ ! -e $1 ] && ([ -x "$(command -v ${1})" ] || type $1 >/dev/null 2>&1); then
	#-# use read only for standard in to make it easier to quit. To write, use `:w filename` method
	if [[ $editor == 'vi' ]]; then
		editor="${editor} -R"
	fi
	eval "$@" | $editor -
else
	$editor $@
fi
